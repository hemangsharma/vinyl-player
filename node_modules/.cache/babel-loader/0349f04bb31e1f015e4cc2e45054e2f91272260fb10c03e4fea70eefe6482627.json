{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSwipeable}from'react-swipeable';import SpotifyPlayer from'react-spotify-web-playback';import'./VinylPlayer.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VinylPlayer=_ref=>{let{track,changeTrack,token}=_ref;const[isPlaying,setIsPlaying]=useState(false);const[isLandscape,setIsLandscape]=useState(window.innerWidth>window.innerHeight);useEffect(()=>{if(track){document.body.style.backgroundImage=\"url(\".concat(track.album.images[0].url,\")\");}const handleResize=()=>{setIsLandscape(window.innerWidth>window.innerHeight);};window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[track]);const togglePlay=()=>{setIsPlaying(!isPlaying);};const swipeHandlers=useSwipeable({onSwipedLeft:()=>changeTrack('next'),onSwipedRight:()=>changeTrack('prev')});return/*#__PURE__*/_jsxs(\"div\",{className:\"vinyl-player\",...swipeHandlers,children:[/*#__PURE__*/_jsx(\"div\",{className:\"vinyl-record \".concat(isPlaying?'spinning':''),children:/*#__PURE__*/_jsx(\"img\",{src:track.album.images[0].url,alt:\"Vinyl Cover\",className:\"vinyl-cover\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"arm\"}),isLandscape?/*#__PURE__*/_jsx(\"div\",{children:\"Swipe to change tracks\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeTrack('prev'),children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,children:isPlaying?'Pause':'Play'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>changeTrack('next'),children:\"Next\"})]}),/*#__PURE__*/_jsx(SpotifyPlayer,{token:token,uris:[track.uri],play:isPlaying,callback:state=>{if(!state.isPlaying)setIsPlaying(false);},styles:{activeColor:'#1DB954',bgColor:'#333',color:'#fff',loaderColor:'#1DB954',sliderColor:'#1DB954',trackArtistColor:'#ccc',trackNameColor:'#fff'}})]});};export default VinylPlayer;","map":{"version":3,"names":["React","useState","useEffect","useSwipeable","SpotifyPlayer","jsx","_jsx","jsxs","_jsxs","VinylPlayer","_ref","track","changeTrack","token","isPlaying","setIsPlaying","isLandscape","setIsLandscape","window","innerWidth","innerHeight","document","body","style","backgroundImage","concat","album","images","url","handleResize","addEventListener","removeEventListener","togglePlay","swipeHandlers","onSwipedLeft","onSwipedRight","className","children","src","alt","onClick","uris","uri","play","callback","state","styles","activeColor","bgColor","color","loaderColor","sliderColor","trackArtistColor","trackNameColor"],"sources":["/Users/hemang/Desktop/vinyl-player/src/VinylPlayer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSwipeable } from 'react-swipeable';\nimport SpotifyPlayer from 'react-spotify-web-playback';\nimport './VinylPlayer.css';\n\nconst VinylPlayer = ({ track, changeTrack, token }) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isLandscape, setIsLandscape] = useState(window.innerWidth > window.innerHeight);\n\n  useEffect(() => {\n    if (track) {\n      document.body.style.backgroundImage = `url(${track.album.images[0].url})`;\n    }\n    const handleResize = () => {\n      setIsLandscape(window.innerWidth > window.innerHeight);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [track]);\n\n  const togglePlay = () => {\n    setIsPlaying(!isPlaying);\n  };\n\n  const swipeHandlers = useSwipeable({\n    onSwipedLeft: () => changeTrack('next'),\n    onSwipedRight: () => changeTrack('prev'),\n  });\n\n  return (\n    <div className=\"vinyl-player\" {...swipeHandlers}>\n      <div className={`vinyl-record ${isPlaying ? 'spinning' : ''}`}>\n        <img src={track.album.images[0].url} alt=\"Vinyl Cover\" className=\"vinyl-cover\" />\n      </div>\n      <div className=\"arm\"></div>\n      {isLandscape ? (\n        <div>Swipe to change tracks</div>\n      ) : (\n        <div>\n          <button onClick={() => changeTrack('prev')}>Previous</button>\n          <button onClick={togglePlay}>{isPlaying ? 'Pause' : 'Play'}</button>\n          <button onClick={() => changeTrack('next')}>Next</button>\n        </div>\n      )}\n      <SpotifyPlayer\n        token={token}\n        uris={[track.uri]}\n        play={isPlaying}\n        callback={(state) => {\n          if (!state.isPlaying) setIsPlaying(false);\n        }}\n        styles={{\n          activeColor: '#1DB954',\n          bgColor: '#333',\n          color: '#fff',\n          loaderColor: '#1DB954',\n          sliderColor: '#1DB954',\n          trackArtistColor: '#ccc',\n          trackNameColor: '#fff',\n        }}\n      />\n    </div>\n  );\n};\n\nexport default VinylPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}